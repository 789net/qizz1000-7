<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#ff7f00">
    <title>–Ü—Å—Ç–æ—Ä–∏—á–Ω–∏–π –∫–≤—ñ–∑</title>
    <style>
        :root {
            --primary: #ff7f00;
            --primary-dark: #e67300;
            --dark: #1a1a1a;
            --darker: #111;
            --gray: #333;
            --light: #f5f5f5;
            --correct: #4CAF50;
            --incorrect: #f44336;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: var(--dark);
            color: white;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background 0.3s;
            background-image: radial-gradient(circle at 10% 20%, rgba(255,127,0,0.1) 0%, rgba(0,0,0,0) 20%);
        }

        .light-mode {
            background-color: var(--light);
            color: var(--dark);
            background-image: radial-gradient(circle at 90% 80%, rgba(255,127,0,0.05) 0%, rgba(0,0,0,0) 30%);
        }

        /* –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é */
        .main-menu {
            text-align: center;
            max-width: 800px;
            padding: 2rem;
            animation: fadeIn 0.5s ease-out;
        }

        .logo {
            font-size: 4rem;
            font-weight: bold;
            color: var(--primary);
            margin-bottom: 1rem;
            text-shadow: 0 4px 8px rgba(0,0,0,0.3);
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 15px;
        }

        .logo-icon {
            font-size: 3.5rem;
        }

        .menu-subtitle {
            font-size: 1.2rem;
            margin-bottom: 3rem;
            color: rgba(255,255,255,0.7);
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .light-mode .menu-subtitle {
            color: rgba(0,0,0,0.7);
        }

        .menu-options {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            max-width: 300px;
            margin: 0 auto;
        }

        .menu-btn {
            background-color: var(--primary);
            color: white;
            border: none;
            padding: 15px 25px;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .menu-btn:hover {
            background-color: var(--primary-dark);
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.3);
        }

        .menu-btn:active {
            transform: translateY(0);
        }

        .menu-btn i {
            font-size: 1.3rem;
        }

        .menu-footer {
            margin-top: 3rem;
            color: rgba(255,255,255,0.5);
            font-size: 0.9rem;
        }

        .light-mode .menu-footer {
            color: rgba(0,0,0,0.5);
        }

        /* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –∫–≤–∏–∑–∞ */
        .quiz-container {
            background-color: var(--gray);
            border-radius: 20px;
            padding: 2rem;
            width: 100%;
            max-width: 800px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.3);
            position: relative;
            display: none;
            animation: fadeIn 0.5s ease-out;
        }

        h1 {
            color: var(--primary);
            text-align: center;
            margin-bottom: 20px;
        }

        #timer {
            text-align: center;
            font-size: 1.2rem;
            margin-bottom: 20px;
            color: var(--primary);
        }

        #progress-container {
            width: 100%;
            background-color: rgba(255,255,255,0.1);
            border-radius: 5px;
            margin: 20px 0;
        }

        #progress-bar {
            height: 10px;
            background-color: var(--primary);
            border-radius: 5px;
            width: 0%;
            transition: width 0.3s;
        }

        #quiz {
            margin: 20px 0;
        }

        .question {
            font-size: 1.2rem;
            margin-bottom: 20px;
        }

        .options {
            list-style: none;
        }

        .option {
            background-color: rgba(255,255,255,0.1);
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .option:hover {
            background-color: rgba(255,127,0,0.2);
            transform: translateX(5px);
        }

        .option.selected {
            background-color: var(--primary);
            color: white;
        }

        #navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }

        button {
            background-color: var(--primary);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s;
        }

        button:hover {
            opacity: 0.9;
            transform: translateY(-2px);
        }

        button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.7);
            z-index: 100;
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background-color: var(--gray);
            padding: 30px;
            border-radius: 15px;
            width: 90%;
            max-width: 500px;
            text-align: center;
            animation: fadeIn 0.3s;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .close-btn {
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 25px;
            cursor: pointer;
        }

        #theme-toggle {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            font-size: 1.5rem;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .action-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin: 20px 0;
        }

        #leaderboard-btn {
            background-color: var(--correct);
        }

        .feedback-correct {
            color: var(--correct);
            font-size: 1.5rem;
            margin-bottom: 1rem;
        }

        .feedback-incorrect {
            color: var(--incorrect);
            font-size: 1.5rem;
            margin-bottom: 1rem;
        }

        .correct-answer {
            background-color: rgba(76, 175, 80, 0.2);
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border-left: 4px solid var(--correct);
        }

        .explanation {
            font-style: italic;
            margin-top: 15px;
            color: rgba(255,255,255,0.8);
        }

        .light-mode .explanation {
            color: rgba(0,0,0,0.8);
        }

        .emoji {
            font-size: 2rem;
            margin-bottom: 10px;
        }

        @media (max-width: 600px) {
            .logo {
                font-size: 2.5rem;
            }
            
            .logo-icon {
                font-size: 2.2rem;
            }
            
            .menu-subtitle {
                font-size: 1rem;
                margin-bottom: 2rem;
            }
            
            .main-menu, .quiz-container {
                padding: 1.5rem;
                border-radius: 0;
                min-height: 100vh;
            }
            
            #navigation {
                flex-direction: column;
                gap: 10px;
            }
            
            button {
                width: 100%;
            }
            
            .action-buttons {
                flex-direction: column;
            }
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <!-- –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é -->
    <div class="main-menu" id="mainMenu">
        <div class="logo">
            <span class="logo-icon">üß†</span>
            <span>–Ü—Å—Ç–æ—Ä—ñ—è</span>
        </div>
        <p class="menu-subtitle">–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Å–≤–æ—ó –∑–Ω–∞–Ω–Ω—è —ñ—Å—Ç–æ—Ä—ñ—ó —É —Ü—å–æ–º—É –∑–∞—Ö–æ–ø–ª–∏–≤–æ–º—É –∫–≤—ñ–∑—ñ –∑ 10 –ø–∏—Ç–∞–Ω–Ω—è–º–∏ –Ω–∞ —á–∞—Å!</p>
        
        <div class="menu-options">
            <button class="menu-btn" id="startGameBtn">
                <i class="fas fa-play"></i> –ü–æ—á–∞—Ç–∏ –≥—Ä—É
            </button>
            <button class="menu-btn" id="leaderboardMenuBtn">
                <i class="fas fa-trophy"></i> –¢–∞–±–ª–∏—Ü—è –ª—ñ–¥–µ—Ä—ñ–≤
            </button>
            <button class="menu-btn" id="settingsBtn">
                <i class="fas fa-cog"></i> –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
            </button>
        </div>
        
        <p class="menu-footer"></p>
    </div>

    <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –∫–≤–∏–∑–∞ -->
    <div class="quiz-container" id="quizContainer">
        <h1>–Ü—Å—Ç–æ—Ä–∏—á–Ω–∏–π –∫–≤—ñ–∑</h1>
        <div id="timer">–ß–∞—Å: <span id="time">02:30</span></div>
        <div id="progress-container">
            <div id="progress-bar"></div>
        </div>
        <div id="quiz"></div>
        <div id="navigation">
            <button id="prev-btn" disabled>–ù–∞–∑–∞–¥</button>
            <button id="next-btn">–î–∞–ª—ñ</button>
        </div>
        <button id="returnToMenuBtn" style="display: none; margin-top: 20px;">
            <i class="fas fa-arrow-left"></i> –ü–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—è –≤ –º–µ–Ω—é
        </button>
    </div>

    <div id="resultModal" class="modal">
        <div class="modal-content">
            <span class="close-btn" id="close-modal">&times;</span>
            <h2>–í–∞—à —Ä–µ–∑—É–ª—å—Ç–∞—Ç</h2>
            <p id="modal-message"></p>
            <p id="score-message"></p>
            <div class="action-buttons">
                <button id="leaderboard-btn">–¢–∞–±–ª–∏—Ü—è –ª—ñ–¥–µ—Ä—ñ–≤</button>
            </div>
            <button id="restart-btn">–°–ø—Ä–æ–±—É–≤–∞—Ç–∏ —â–µ</button>
        </div>
    </div>

    <div id="feedbackModal" class="modal">
        <div class="modal-content">
            <div id="feedback-emoji" class="emoji"></div>
            <h3 id="feedback-title"></h3>
            <div id="feedback-content"></div>
            <button id="continue-btn">–ü—Ä–æ–¥–æ–≤–∂–∏—Ç–∏</button>
        </div>
    </div>

    <div id="leaderboardModal" class="modal">
        <div class="modal-content">
            <h2>–¢–∞–±–ª–∏—Ü—è –ª—ñ–¥–µ—Ä—ñ–≤</h2>
            <div id="leaderboard"></div>
            <button id="close-leaderboard">–ó–∞–∫—Ä–∏—Ç–∏</button>
        </div>
    </div>

    <button id="theme-toggle">üåì</button>

    <script>
        // –î–∞–Ω—ñ –ø–∏—Ç–∞–Ω—å (10 –ø–∏—Ç–∞–Ω—å)
        const questions = [
            {
                question: "–•—Ç–æ –±—É–≤ –ø–µ—Ä—à–∏–º –ø—Ä–µ–∑–∏–¥–µ–Ω—Ç–æ–º –°–®–ê?",
                options: ["–î–∂–æ—Ä–¥–∂ –í–∞—à–∏–Ω–≥—Ç–æ–Ω", "–¢–æ–º–∞—Å –î–∂–µ—Ñ—Ñ–µ—Ä—Å–æ–Ω", "–ê–±—Ä–∞—Ö–∞–º –õ—ñ–Ω–∫–æ–ª—å–Ω", "–¢–µ–æ–¥–æ—Ä –†—É–∑–≤–µ–ª—å—Ç"],
                answer: 0,
                explanation: "–î–∂–æ—Ä–¥–∂ –í–∞—à–∏–Ω–≥—Ç–æ–Ω —Å—Ç–∞–≤ –ø–µ—Ä—à–∏–º –ø—Ä–µ–∑–∏–¥–µ–Ω—Ç–æ–º –°–®–ê —É 1789 —Ä–æ—Ü—ñ."
            },
            {
                question: "–ö–æ–ª–∏ –ø–æ—á–∞–ª–∞—Å—è –î—Ä—É–≥–∞ —Å–≤—ñ—Ç–æ–≤–∞ –≤—ñ–π–Ω–∞?",
                options: ["1914", "1939", "1941", "1945"],
                answer: 1,
                explanation: "–î—Ä—É–≥–∞ —Å–≤—ñ—Ç–æ–≤–∞ –≤—ñ–π–Ω–∞ –ø–æ—á–∞–ª–∞—Å—è 1 –≤–µ—Ä–µ—Å–Ω—è 1939 —Ä–æ–∫—É –Ω–∞–ø–∞–¥–æ–º –ù—ñ–º–µ—á—á–∏–Ω–∏ –Ω–∞ –ü–æ–ª—å—â—É."
            },
            {
                question: "–•—Ç–æ –Ω–∞–ø–∏—Å–∞–≤ '–î–µ—Ä–∂–∞–≤–µ—Ü—å'?",
                options: ["–ù—ñ–∫–æ–ª–æ –ú–∞–∫—ñ–∞–≤–µ–ª–ª—ñ", "–ú–∞—Ä–∫–∞ –ê–≤—Ä–µ–ª—ñ—è", "–ü–ª–∞—Ç–æ–Ω", "–ê—Ä–∏—Å—Ç–æ—Ç–µ–ª—å"],
                answer: 0,
                explanation: "–ù—ñ–∫–æ–ª–æ –ú–∞–∫—ñ–∞–≤–µ–ª–ª—ñ –Ω–∞–ø–∏—Å–∞–≤ '–î–µ—Ä–∂–∞–≤–µ—Ü—å' —É 1513 —Ä–æ—Ü—ñ."
            },
            {
                question: "–Ø–∫–∞ –∫—Ä–∞—ó–Ω–∞ –±—É–ª–∞ —Ü–µ–Ω—Ç—Ä–æ–º –†–∏–º—Å—å–∫–æ—ó —ñ–º–ø–µ—Ä—ñ—ó?",
                options: ["–ì—Ä–µ—Ü—ñ—è", "–Ü—Ç–∞–ª—ñ—è", "–Ñ–≥–∏–ø–µ—Ç", "–¢—É—Ä–µ—á—á–∏–Ω–∞"],
                answer: 1,
                explanation: "–†–∏–º—Å—å–∫–∞ —ñ–º–ø–µ—Ä—ñ—è –º–∞–ª–∞ —Å–≤—ñ–π —Ü–µ–Ω—Ç—Ä –≤ –Ü—Ç–∞–ª—ñ—ó, –∑—ñ —Å—Ç–æ–ª–∏—Ü–µ—é –≤ –†–∏–º—ñ."
            },
            {
                question: "–ö–æ–ª–∏ –±—É–≤ –ø–æ–±—É–¥–æ–≤–∞–Ω–∏–π –í–µ–ª–∏–∫–∏–π –∫–∏—Ç–∞–π—Å—å–∫–∏–π –º—É—Ä?",
                options: ["15 —Å—Ç–æ–ª—ñ—Ç—Ç—è –¥–æ –Ω.–µ.", "5 —Å—Ç–æ–ª—ñ—Ç—Ç—è –¥–æ –Ω.–µ.", "3 —Å—Ç–æ–ª—ñ—Ç—Ç—è –¥–æ –Ω.–µ.", "1 —Å—Ç–æ–ª—ñ—Ç—Ç—è –Ω.–µ."],
                answer: 2,
                explanation: "–ë—É–¥—ñ–≤–Ω–∏—Ü—Ç–≤–æ –ø–æ—á–∞–ª–æ—Å—è –≤ 3 —Å—Ç–æ–ª—ñ—Ç—Ç—ñ –¥–æ –Ω.–µ. –∑–∞ —á–∞—Å—ñ–≤ –¥–∏–Ω–∞—Å—Ç—ñ—ó –¶—ñ–Ω—å."
            },
            {
                question: "–Ø–∫–∞ —Ü–∏–≤—ñ–ª—ñ–∑–∞—Ü—ñ—è –ø–æ–±—É–¥—É–≤–∞–ª–∞ –ø—ñ—Ä–∞–º—ñ–¥–∏ –≤ –ì—ñ–∑—ñ?",
                options: ["–®—É–º–µ—Ä—Å—å–∫–∞", "–ê—Å—Å–∏—Ä—ñ–π—Å—å–∫–∞", "–í–∞–≤–∏–ª–æ–Ω—Å—å–∫–∞", "–°—Ç–∞—Ä–æ—î–≥–∏–ø–µ—Ç—Å—å–∫–∞"],
                answer: 3,
                explanation: "–ü—ñ—Ä–∞–º—ñ–¥–∏ –≤ –ì—ñ–∑—ñ –±—É–ª–∏ –ø–æ–±—É–¥–æ–≤–∞–Ω—ñ –≤ –°—Ç–∞—Ä–æ–¥–∞–≤–Ω—å–æ–º—É –Ñ–≥–∏–ø—Ç—ñ."
            },
            {
                question: "–•—Ç–æ –±—É–≤ –ø–µ—Ä—à–∏–º –ø—Ä–∞–≤–∏—Ç–µ–ª–µ–º –æ–±'—î–¥–Ω–∞–Ω–æ—ó –†—É—Å—ñ?",
                options: ["–†—é—Ä–∏–∫", "–û–ª–µ–≥", "–Ü–≥–æ—Ä", "–í–æ–ª–æ–¥–∏–º–∏—Ä –í–µ–ª–∏–∫–∏–π"],
                answer: 1,
                explanation: "–ö–Ω—è–∑—å –û–ª–µ–≥ –æ–±'—î–¥–Ω–∞–≤ –ø—ñ–≤–Ω—ñ—á–Ω—ñ —Ç–∞ –ø—ñ–≤–¥–µ–Ω–Ω—ñ –∑–µ–º–ª—ñ –†—É—Å—ñ –∑ —Ü–µ–Ω—Ç—Ä–æ–º —É –ö–∏—î–≤—ñ."
            },
            {
                question: "–£ —è–∫–æ–º—É —Ä–æ—Ü—ñ –≤—ñ–¥–±—É–ª–∞—Å—è –•—Ä–µ—â–µ–Ω—Å—å–∫–∞ —Ä–µ–≤–æ–ª—é—Ü—ñ—è –≤ –ê–Ω–≥–ª—ñ—ó?",
                options: ["1642", "1688", "1707", "1776"],
                answer: 1,
                explanation: "–•—Ä–µ—â–µ–Ω—Å—å–∫–∞ —Ä–µ–≤–æ–ª—é—Ü—ñ—è (–°–ª–∞–≤–Ω–∞ —Ä–µ–≤–æ–ª—é—Ü—ñ—è) –≤—ñ–¥–±—É–ª–∞—Å—è –≤ 1688 —Ä–æ—Ü—ñ."
            },
            {
                question: "–Ø–∫–∞ –±–∏—Ç–≤–∞ –±—É–ª–∞ –ø–µ—Ä–µ–ª–æ–º–Ω–æ—é —É –î—Ä—É–≥—ñ–π —Å–≤—ñ—Ç–æ–≤—ñ–π –≤—ñ–π–Ω—ñ?",
                options: ["–ë–∏—Ç–≤–∞ –∑–∞ –ë—Ä–∏—Ç–∞–Ω—ñ—é", "–°—Ç–∞–ª—ñ–Ω–≥—Ä–∞–¥—Å—å–∫–∞ –±–∏—Ç–≤–∞", "–ë–∏—Ç–≤–∞ –∑–∞ –ë–µ—Ä–ª—ñ–Ω", "–ö—É—Ä—Å—å–∫–∞ –±–∏—Ç–≤–∞"],
                answer: 3,
                explanation: "–ö—É—Ä—Å—å–∫–∞ –±–∏—Ç–≤–∞ (1943 —Ä.) –±—É–ª–∞ –ø–µ—Ä–µ–ª–æ–º–Ω–∏–º –º–æ–º–µ–Ω—Ç–æ–º –Ω–∞ –°—Ö—ñ–¥–Ω–æ–º—É —Ñ—Ä–æ–Ω—Ç—ñ."
            },
            {
                question: "–•—Ç–æ –±—É–≤ –∞–≤—Ç–æ—Ä–æ–º '–ö–∞–ø—ñ—Ç–∞–ª—É'?",
                options: ["–§—Ä—ñ–¥—Ä—ñ—Ö –ï–Ω–≥–µ–ª—å—Å", "–ö–∞—Ä–ª –ú–∞—Ä–∫—Å", "–í–æ–ª–æ–¥–∏–º–∏—Ä –õ–µ–Ω—ñ–Ω", "–ê–¥–∞–º –°–º—ñ—Ç"],
                answer: 1,
                explanation: "–ö–∞—Ä–ª –ú–∞—Ä–∫—Å –Ω–∞–ø–∏—Å–∞–≤ '–ö–∞–ø—ñ—Ç–∞–ª' - —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—É –ø—Ä–∞—Ü—é –∑ –ø–æ–ª—ñ—Ç–∏—á–Ω–æ—ó –µ–∫–æ–Ω–æ–º—ñ—ó."
            }
        ];

        // –ó–º—ñ–Ω–Ω—ñ —Å—Ç–∞–Ω—É
        let currentQuestion = 0;
        let score = 0;
        let timeLeft = 150; // 2 —Ö–≤–∏–ª–∏–Ω–∏ 30 —Å–µ–∫—É–Ω–¥
        let timer;
        let userAnswers = Array(questions.length).fill(null);
        let darkMode = false;

        // DOM –µ–ª–µ–º–µ–Ω—Ç–∏
        const quizContainer = document.getElementById('quizContainer');
        const mainMenu = document.getElementById('mainMenu');
        let timerElement = document.getElementById('time');
        const progressBar = document.getElementById('progress-bar');
        const startGameBtn = document.getElementById('startGameBtn');
        const returnToMenuBtn = document.getElementById('returnToMenuBtn');
        const leaderboardMenuBtn = document.getElementById('leaderboardMenuBtn');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const resultModal = document.getElementById('resultModal');
        const feedbackModal = document.getElementById('feedbackModal');
        const leaderboardModal = document.getElementById('leaderboardModal');
        const themeToggle = document.getElementById('theme-toggle');
        const feedbackEmoji = document.getElementById('feedback-emoji');
        const feedbackTitle = document.getElementById('feedback-title');
        const feedbackContent = document.getElementById('feedback-content');

        // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è
        document.addEventListener('DOMContentLoaded', () => {
            startGameBtn.addEventListener('click', startGame);
            returnToMenuBtn.addEventListener('click', returnToMenu);
            leaderboardMenuBtn.addEventListener('click', showLeaderboard);
            prevBtn.addEventListener('click', prevQuestion);
            nextBtn.addEventListener('click', nextQuestion);
            document.getElementById('continue-btn').addEventListener('click', continueQuiz);
            document.getElementById('restart-btn').addEventListener('click', restartQuiz);
            document.getElementById('leaderboard-btn').addEventListener('click', showLeaderboard);
            document.getElementById('close-leaderboard').addEventListener('click', closeLeaderboard);
            document.getElementById('close-modal').addEventListener('click', () => resultModal.style.display = 'none');
            themeToggle.addEventListener('click', toggleTheme);

            // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ –∑–±–µ—Ä–µ–∂–µ–Ω—É —Ç–µ–º—É
            if (localStorage.getItem('darkMode') === 'true') {
                toggleTheme();
            }
        });

        // –ü–æ—á–∞—Ç–æ–∫ –≥—Ä–∏ –∑ –º–µ–Ω—é
        function startGame() {
            mainMenu.style.display = 'none';
            quizContainer.style.display = 'block';
            returnToMenuBtn.style.display = 'block';
            startQuiz();
        }

        // –ü–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è –≤ –º–µ–Ω—é
        function returnToMenu() {
            quizContainer.style.display = 'none';
            mainMenu.style.display = 'block';
            clearInterval(timer);
        }

        // –ü–æ—á–∞—Ç–æ–∫ –∫–≤—ñ–∑—É
        function startQuiz() {
            currentQuestion = 0;
            score = 0;
            timeLeft = 150;
            userAnswers = Array(questions.length).fill(null);
            
            // –°–∫–∏–¥–∞—î–º–æ —Ç–∞–π–º–µ—Ä
            updateTimerDisplay();
            startTimer();
            loadQuestion();
        }

        // –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –ø–∏—Ç–∞–Ω–Ω—è
        function loadQuestion() {
            const question = questions[currentQuestion];
            
            // –û–Ω–æ–≤–ª—é—î–º–æ –ø—Ä–æ–≥—Ä–µ—Å –±–∞—Ä
            progressBar.style.width = `${(currentQuestion / questions.length) * 100}%`;
            
            // –û–Ω–æ–≤–ª—é—î–º–æ –∫–Ω–æ–ø–∫–∏ –Ω–∞–≤—ñ–≥–∞—Ü—ñ—ó
            prevBtn.disabled = currentQuestion === 0;
            nextBtn.textContent = currentQuestion === questions.length - 1 ? '–ó–∞–≤–µ—Ä—à–∏—Ç–∏' : '–î–∞–ª—ñ';
            
            // –í—ñ–¥–æ–±—Ä–∞–∂–∞—î–º–æ –ø–∏—Ç–∞–Ω–Ω—è
            quizContainer.innerHTML = `
                <h1>–Ü—Å—Ç–æ—Ä–∏—á–Ω–∏–π –∫–≤—ñ–∑</h1>
                <div id="timer">–ß–∞—Å: <span id="time">02:30</span></div>
                <div id="progress-container">
                    <div id="progress-bar"></div>
                </div>
                <div id="quiz">
                    <div class="question">${question.question}</div>
                    <ul class="options">
                        ${question.options.map((option, index) => `
                            <li class="option ${userAnswers[currentQuestion] === index ? 'selected' : ''}" 
                                data-index="${index}">
                                ${option}
                            </li>
                        `).join('')}
                    </ul>
                </div>
                <div id="navigation">
                    <button id="prev-btn" ${currentQuestion === 0 ? 'disabled' : ''}>–ù–∞–∑–∞–¥</button>
                    <button id="next-btn">${currentQuestion === questions.length - 1 ? '–ó–∞–≤–µ—Ä—à–∏—Ç–∏' : '–î–∞–ª—ñ'}</button>
                </div>
                <button id="returnToMenuBtn" style="margin-top: 20px;">
                    <i class="fas fa-arrow-left"></i> –ü–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—è –≤ –º–µ–Ω—é
                </button>
            `;
            
            // –û–Ω–æ–≤–ª—é—î–º–æ timerElement –ø—ñ—Å–ª—è –≤—Å—Ç–∞–≤–∫–∏ –Ω–æ–≤–æ–≥–æ DOM
            timerElement = document.getElementById('time');
            
            // –î–æ–¥–∞—î–º–æ –æ–±—Ä–æ–±–Ω–∏–∫–∏ –ø–æ–¥—ñ–π –¥–ª—è –≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤ –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π
            document.querySelectorAll('.option').forEach(option => {
                option.addEventListener('click', selectAnswer);
            });
            
            // –ü–æ–≤—Ç–æ—Ä–Ω–æ –¥–æ–¥–∞—î–º–æ –æ–±—Ä–æ–±–Ω–∏–∫–∏ –ø–æ–¥—ñ–π –¥–ª—è –∫–Ω–æ–ø–æ–∫
            document.getElementById('prev-btn').addEventListener('click', prevQuestion);
            document.getElementById('next-btn').addEventListener('click', nextQuestion);
            document.getElementById('returnToMenuBtn').addEventListener('click', returnToMenu);
        }

        // –í–∏–±—ñ—Ä –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
        function selectAnswer(e) {
            const selectedIndex = parseInt(e.target.getAttribute('data-index'));
            userAnswers[currentQuestion] = selectedIndex;
            
            // –ü—ñ–¥—Å–≤—ñ—á—É—î–º–æ –≤–∏–±—Ä–∞–Ω—É –≤—ñ–¥–ø–æ–≤—ñ–¥—å
            document.querySelectorAll('.option').forEach(opt => {
                opt.classList.remove('selected');
            });
            e.target.classList.add('selected');
        }

        // –ù–∞—Å—Ç—É–ø–Ω–µ –ø–∏—Ç–∞–Ω–Ω—è
        function nextQuestion() {
            if (userAnswers[currentQuestion] === null) {
                alert('–ë—É–¥—å –ª–∞—Å–∫–∞, –æ–±–µ—Ä—ñ—Ç—å –≤—ñ–¥–ø–æ–≤—ñ–¥—å!');
                return;
            }
            
            // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ –≤—ñ–¥–ø–æ–≤—ñ–¥—å
            const isCorrect = userAnswers[currentQuestion] === questions[currentQuestion].answer;
            if (isCorrect) score++;
            
            // –ü–æ–∫–∞–∑—É—î–º–æ –∑–≤–æ—Ä–æ—Ç–Ω–∏–π –∑–≤'—è–∑–æ–∫
            showFeedback(isCorrect);
        }

        // –ü–æ–ø–µ—Ä–µ–¥–Ω—î –ø–∏—Ç–∞–Ω–Ω—è
        function prevQuestion() {
            currentQuestion--;
            loadQuestion();
        }

        // –ü–æ–∫–∞–∑–∞—Ç–∏ –∑–≤–æ—Ä–æ—Ç–Ω–∏–π –∑–≤'—è–∑–æ–∫
        function showFeedback(isCorrect) {
            const question = questions[currentQuestion];
            
            if (isCorrect) {
                feedbackEmoji.textContent = 'üéâ';
                feedbackTitle.innerHTML = '<span class="feedback-correct">–ü—Ä–∞–≤–∏–ª—å–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å!</span>';
                feedbackContent.innerHTML = `
                    <p>–í–∞—à–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å <strong>${question.options[userAnswers[currentQuestion]]}</strong> —î –ø—Ä–∞–≤–∏–ª—å–Ω–æ—é!</p>
                    <div class="explanation">${question.explanation}</div>
                `;
            } else {
                feedbackEmoji.textContent = '‚ùå';
                feedbackTitle.innerHTML = '<span class="feedback-incorrect">–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å</span>';
                feedbackContent.innerHTML = `
                    <p>–í–∞—à–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å: <strong>${question.options[userAnswers[currentQuestion]]}</strong></p>
                    <div class="correct-answer">
                        <strong>–ü—Ä–∞–≤–∏–ª—å–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å:</strong> ${question.options[question.answer]}
                    </div>
                    <div class="explanation">${question.explanation}</div>
                `;
            }
            
            feedbackModal.style.display = 'flex';
        }

        // –ü—Ä–æ–¥–æ–≤–∂–∏—Ç–∏ –∫–≤—ñ–∑
        function continueQuiz() {
            feedbackModal.style.display = 'none';
            
            currentQuestion++;
            if (currentQuestion < questions.length) {
                loadQuestion();
            } else {
                finishQuiz();
            }
        }

        // –ó–∞–≤–µ—Ä—à–∏—Ç–∏ –∫–≤—ñ–∑
        function finishQuiz() {
            clearInterval(timer);
            
            const percentage = Math.round((score / questions.length) * 100);
            let message;
            let emoji;
            
            if (percentage >= 80) {
                message = "–í—ñ–¥–º—ñ–Ω–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç!";
                emoji = "üèÜ";
            } else if (percentage >= 60) {
                message = "–î–æ–±—Ä–µ –∑–Ω–∞–Ω–Ω—è –º–∞—Ç–µ—Ä—ñ–∞–ª—É!";
                emoji = "üëç";
            } else if (percentage >= 40) {
                message = "–ù–µ–ø–æ–≥–∞–Ω–æ, –∞–ª–µ –º–æ–∂–Ω–∞ –∫—Ä–∞—â–µ!";
                emoji = "ü§î";
            } else {
                message = "–ü–æ—Ç—Ä—ñ–±–Ω–æ –ø—ñ–¥—Ç—è–≥–Ω—É—Ç–∏ –∑–Ω–∞–Ω–Ω—è!";
                emoji = "üìö";
            }
            
            document.getElementById('modal-message').innerHTML = `${emoji} ${message}`;
            document.getElementById('score-message').textContent = `–í–∏ –Ω–∞–±—Ä–∞–ª–∏ ${score} –∑ ${questions.length} (${percentage}%)`;
            resultModal.style.display = 'flex';
            
            // –ó–±–µ—Ä—ñ–≥–∞—î–º–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç
            saveScore(score);
        }

        // –ü–æ—á–∞—Ç–∏ —Å–ø–æ—á–∞—Ç–∫—É
        function restartQuiz() {
            resultModal.style.display = 'none';
            startQuiz();
        }

        // –¢–∞–π–º–µ—Ä
        function startTimer() {
            timer = setInterval(() => {
                timeLeft--;
                updateTimerDisplay();
                
                if (timeLeft <= 0) {
                    clearInterval(timer);
                    finishQuiz();
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            timerElement.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            
            // –ó–º—ñ–Ω—é—î–º–æ –∫–æ–ª—ñ—Ä, –∫–æ–ª–∏ —á–∞—Å –∑–∞–∫—ñ–Ω—á—É—î—Ç—å—Å—è
            if (timeLeft <= 30) {
                timerElement.style.color = 'red';
            }
        }

        // –¢–∞–±–ª–∏—Ü—è –ª—ñ–¥–µ—Ä—ñ–≤
        function showLeaderboard() {
            const leaderboard = document.getElementById('leaderboard');
            const scores = JSON.parse(localStorage.getItem('quizScores')) || [];
            
            leaderboard.innerHTML = scores.length > 0 
                ? scores.map((score, index) => `
                    <div style="display: flex; justify-content: space-between; padding: 10px; border-bottom: 1px solid #444;">
                        <span>${index + 1}. ${score.name || '–ì—Ä–∞–≤–µ—Ü—å'}</span>
                        <span>${score.score} –±–∞–ª—ñ–≤</span>
                    </div>
                `).join('')
                : '<p>–©–µ –Ω–µ–º–∞—î —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤</p>';
            
            leaderboardModal.style.display = 'flex';
            resultModal.style.display = 'none';
        }

        function closeLeaderboard() {
            leaderboardModal.style.display = 'none';
            if (quizContainer.style.display === 'block') {
                resultModal.style.display = 'flex';
            }
        }

        // –ó–±–µ—Ä–µ–≥—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç
        function saveScore(score) {
            const scores = JSON.parse(localStorage.getItem('quizScores')) || [];
            const playerName = prompt('–í–≤–µ–¥—ñ—Ç—å –≤–∞—à–µ —ñ–º\'—è –¥–ª—è —Ç–∞–±–ª–∏—Ü—ñ –ª—ñ–¥–µ—Ä—ñ–≤:', '–ì—Ä–∞–≤–µ—Ü—å');
            
            scores.push({
                name: playerName || '–ì—Ä–∞–≤–µ—Ü—å',
                score: score,
                date: new Date().toLocaleDateString()
            });
            
            // –°–æ—Ä—Ç—É—î–º–æ –∑–∞ –±–∞–ª–æ–º (–∑–∞ –∑–º–µ–Ω—à–µ–Ω–Ω—è–º)
            scores.sort((a, b) => b.score - a.score);
            
            // –ó–±–µ—Ä—ñ–≥–∞—î–º–æ —Ç—ñ–ª—å–∫–∏ —Ç–æ–ø-10 —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤
            localStorage.setItem('quizScores', JSON.stringify(scores.slice(0, 10)));
        }

        // –¢–µ–º–Ω–∞/—Å–≤—ñ—Ç–ª–∞ —Ç–µ–º–∞
        function toggleTheme() {
            darkMode = !darkMode;
            document.body.classList.toggle('light-mode', darkMode);
            localStorage.setItem('darkMode', darkMode);
            themeToggle.textContent = darkMode ? 'üåû' : 'üåú';
        }
    </script>
</body>
</html> 
